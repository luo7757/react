# 配置

## 额外的约定文件

- src/pages/document.ejs  这个配置用于配置模板html 相当于public下的index.html
  - ejs 模板引擎
- src/global.js umi最开始启动时运行的js文件
- src/app.js  做运行时配置的代码
  - patchRoutes 主要用于动态配置路由，是一个函数，该函数会在umi读取完所有静态路由配置后执行
  - dva
    - config  相当于 new dva(配置)
    - plugins  相当于 dva.use(插件)
- .env  配置环境变量，这些变量会在umi编译期间发挥作用
  - UMI_ENV ： umi的环境变量值，可以是任意值，该值会影响到 umirc.js 
  - PROT
  MOCK

## umi配置

- plugins：配置umijs的插件
- routes：配置路由（会导致约定式路由失效）
- history： history对象模式 （默认是browser）
- outputPath： 使用umi build后，打包的目录名称，默认是dist
- base： 相当于之前 browserRouter中的basename
- publicPath： 指定静态资源所在的目录
- exportStatic： 开启该配置后，会打包成多个静态页面，每个页面对应一个路由，开启多页面应用的前提条件是：没有动态路由

## webpack配置